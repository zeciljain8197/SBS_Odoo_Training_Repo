<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="report_overall">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <tr t-call="web.internal_layout">
                    <div class="page">
                        <h1 class="text-center">Overall Report</h1>
                        <table class="table">
                            <tr>
                                <td>Constructor Name</td>
                                <td>
                                    <span t-field="o.name"/>
                                </td>
                                <td>User Name</td>
                                <td>
                                    <span t-esc="zinu"/>
                                </td>
                            </tr>
                            <!--                        <span t-if="data.get('form',{})" t-esc="data['form']['driver_id'][1]"/>-->
                            <tr>
                                <div id="images" class="row mt32 mb32">
                                    <td>Constructor Logo</td>
                                    <td>
                                        <img t-if="o.img" t-att-src="image_data_uri(o.img)"
                                             style="max-height:85pt;max-width:90%"
                                             alt="Constructor Image"/>
                                    </td>
                                    <br/>
                                    <td>Barcode</td>
                                    <td>
                                        <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', c_code, 600, 100)"
                                             style="width:350px;height:60px;"/>
                                    </td>
                                </div>
                            </tr>
                            <div id="informations" class="row mt32 mb32">
                                <tr>
                                    <td>
                                        <strong>Driver</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-field="o.driver_id.name"/>
                                    </td>
                                    <td>
                                        <strong>Fav Circuit</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-esc="form['fav_circuit']"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Date</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-esc="form['date']"/>
                                    </td>
                                    <td>
                                        <strong>Wins</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-esc="form['wins']"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Engine</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-field="o.engine"/>
                                    </td>
                                    <td>
                                        <strong>Fans</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-esc="fetch_fans(o.fan_ids)"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Fandom %</strong>
                                    </td>
                                    <td>
                                        <p class="m-0" t-esc="get_total_fandom(o.fan_ids)"/>
                                    </td>
                                </tr>
                            </div>
                        </table>
                    </div>
                </tr>
            </t>
        </t>
    </template>
</odoo>